<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>Ejercicio 3</title>
    </head>
    <body>
        <div id="demo"></div>
        <script>
            function diaArequipa(){
                let fecha = new Date();
                // 7 porque agosto es el septimo contando a enero como 0
                const diaAQP = new Date(fecha.getFullYear(), 7, 15);
                let diasFaltantes;
                if(fecha.getMonth() > diaAQP.getMonth() && fecha.getDay() > diaAQP.getDay()){
                    //llamaremos a una funcion diferente
                    diasFaltantes = fechaToDias(diaAQP) + (fechaToDias(new Date(fecha.getFullYear(),11,31) - fechaToDias(fecha)));
                }
                else{
                    //llamamos a otra función
                    diasFaltantes = fechaToDias(diaAQP) - fechaToDias(fecha);
                }
                console.log(diasFaltantes);
                document.getElementById("demo").innerHTML = "Quedan " + diasFaltantes + " dias";
                
            }
            function menosAño(fecha){

            }
            function fechaToDias(fecha){
                let diasMeses;
                if(fecha.getFullYear() % 4 == 0){
                    diasMeses = [31,29,31,30,31,30,31,31,30,31,30,31];
                }
                else{
                    diasMeses = [31,28,31,30,31,30,31,31,30,31,30,31];
                }
                // los dias hasta el anterior mes
                let dias = 0;
                for(let i = 0; i < fecha.getMonth(); i++){
                    dias += diasMeses[i];
                }
                // los dias sumados al de este mes
                dias += fecha.getDate();
                console.log(dias);
                return dias; 
            }
            diaArequipa();
        </script>
    </body>
</html>